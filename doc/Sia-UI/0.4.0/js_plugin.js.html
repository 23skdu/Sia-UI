<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: js/plugin.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: js/plugin.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';
const Path = require('path');
var Factory = require('./pluginFactory');

/**
 * Constructs the webview and button from a plugin folder
 * @class Plugin
 * @param {string} plugPath - The directory of this plugin
 * @param {string} name - The name of the plugin.
 */
function Plugin(plugPath, name) {
	/**
	 * Html element for the webview
	 * @member {Object} Plugin~view
	 */
	var view = new Factory.view(Path.join(plugPath, name, 'index.html'), name);
	/**
	 * Html element for the sidebar button
	 * @member {Object} Plugin~button
	 */
	var button = new Factory.button(Path.join(plugPath, name, 'assets', 'button.png'), name);

	return {
		/**
		* Name of the Plugin
		* @member {string} Plugin#name
		*/
	   name: name,
	   /**
		* Function executed upon the sidebar button being clicked
		* @member {transition} Plugin#transition
		*/
	   transition: function(transition) {
		   button.onclick = transition;
	   },

	   /**
		* Used to interact with the view element in an easy manner.
		* @function Plugin#on
		* @param {string} event - webview event to listen for
		* @param {Object} listener - function to execute upon the event firing
		*/
	   on: function(event, listener) {
		   view.addEventListener(event, listener);
	   },

	   /** 
		* Shows the plugin's view
		* @function Plugin#show
		*/
	   show: function() {
		   button.classList.add('current');
		   view.style.display = '';
		   view.executeJavaScript('if (typeof init === "function") init();');
	   },

	   /** 
		* Hides the plugin's view
		* @function Plugin#hide
		*/
	   hide: function() {
		   button.classList.remove('current');
		   view.style.display = 'none';
		   view.executeJavaScript('if (typeof kill === "function") kill();');
	   },

	   /**
		* For communicating ipc messages with the plugin's webview, while still
		* keeping it private to plugin
		* @function Plugin#sendToView
		* @param {string} channel - ipc channel to communicate over
		* @param {...*} messages - ipc messages sent over channel to view
		*/
	   sendToView: function() {
		   view.send.apply(view, [].slice.call(arguments));
	   },

	   /**
		* Opens or closes the webviews devtools for detailed output viewing
		* @function Plugin#toggleDevTools
		*/
	   toggleDevTools: function() {
		   if (view.isDevToolsOpened()) {
			   view.closeDevTools();
		   } else {
			   view.openDevTools();
		   }
		   return;
	   },
	}
	
};
module.exports = Plugin;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-DaemonAPI.html">DaemonAPI</a></li><li><a href="module-PluginFactory.html">PluginFactory</a></li><li><a href="module-UIConfig.html">UIConfig</a></li></ul><h3>Classes</h3><ul><li><a href="DaemonManager.html">DaemonManager</a></li><li><a href="Plugin.html">Plugin</a></li><li><a href="PluginManager.html">PluginManager</a></li><li><a href="UIManager.html">UIManager</a></li></ul><h3>Global</h3><ul><li><a href="global.html#mainWindow">mainWindow</a></li><li><a href="global.html#startMainWindow">startMainWindow</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a> on Sun Jul 26 2015 15:49:34 GMT-0400 (EDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
